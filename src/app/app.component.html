<div class="container">
  <h1>RCON Servers</h1>
  <form (ngSubmit)="addServer()" #serverForm="ngForm">
    <input type="text" name="name" placeholder="Name" [(ngModel)]="newServer.name" required>
    <input type="text" name="host" placeholder="Host" [(ngModel)]="newServer.host" required>
    <input type="number" name="port" placeholder="Port" [(ngModel)]="newServer.port" required>
    <input type="password" name="password" placeholder="Password" [(ngModel)]="newServer.password" required>
    <button type="submit">Add</button>
  </form>

  <ul>
    <li *ngFor="let s of servers; index as i">
      {{s.name}} ({{s.host}}:{{s.port}})
      <button (click)="connect(i)">Connect</button>
      <button (click)="deleteServer(i)">Delete</button>
    </li>
  </ul>

  <div *ngIf="connected">
    <h2>Console</h2>
    <pre class="log">{{log}}</pre>
    <form (ngSubmit)="sendCommand()" #cmdForm="ngForm">
      <input type="text" name="cmd" [(ngModel)]="command" required>
      <button type="submit">Send</button>
    </form>
  </div>
</div>
